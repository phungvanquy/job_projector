# –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ](#–°—Ö–µ–º–∞-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)
2. [–ò–Ω—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#–ò–Ω—Ç—Ä—É–∫—Ü–∏—è-–¥–ª—è-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
3. [–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ü–û](#test-instruction)
4. [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∞ TCP/IP –ø–∞–∫–µ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∂–µ–∫—Ç–æ—Ä–æ–º](#–û–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã)

# <p id="–°—Ö–µ–º–∞-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ">1. –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</p>

–≠—Ç–æ –ø–∞–≤–µ–ª —Å–¥–µ–ª–∞–µ—Ç </br>
!!! –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ: —á—Ç–æ pin A1(Arduino) –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è ADC value

# <p id="–ò–Ω—Ç—Ä—É–∫—Ü–∏—è-–¥–ª—è-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"></p>2. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

Run into Virtual Environment

```bash
python3 -m venv venv &&
source ./venv/bin/activate
```

Install all dependencies

```bash
pip install -r requirements.txt
```

Run test file

```bash
python3 main.py
```

Result must be like this:

```bash
************* Successfully connected to TCPServer 192.168.113.10:23 ****************
SET <parameter> <value>: Set value for a parameter angle of fan
Enter the command:
```

Now you can enter command **set angle [value]** to control projector, for example:

```bash
set angle 10
```

# <p id="structure-description"></p> 3. –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ü–û

```
üì¶backend
 ‚î£ üìÇmodel                  (Build Machine learning Model to convert ADC_value->angle or vice versa)
 ‚îÉ ‚î£ üìúdata.csv             (Dataset)
 ‚îÉ ‚îó üìúmodelEncoderADC.py   (Genereated ML model)
 ‚î£ üìúREADME.md              (Instruction file)
 ‚îÉ üìúmain.py                (Testing source file)
 ‚îó üìúrequirements.txt       (Dependencies file)
```

# <p id="–û–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã"></p>4. –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Ä–∞–±–æ—Ç—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∞ TCP/IP –ø–∞–∫–µ—Ç–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∂–µ–∫—Ç–æ—Ä–æ–º

## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:

<p style="text-align:justify" >1. –ò–∑ –ü–ö TCP/IP –∫–æ–º–∞–Ω–¥–∞ (—Å–æ–æ–±—â–µ–Ω–∏–µ) –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ Arduino. –í —ç—Ç–æ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ ADC_value –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∂–µ–∫—Ç–æ—Ä–æ–º. Arduino –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ—Ç–æ—Ä–æ–º —Ç–∞–∫ —á—Ç–æ–±—ã –ø—Ä–æ–∂–µ–∫—Ç–æ—Ä –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–ª –∫ –∂–µ–ª–∞–µ–º–æ–º—É —É–≥–ª—É. –í–Ω–∏–º–∞–Ω–∏–µ –≤ —Ç–æ–º —á—Ç–æ Arduino –ø–æ–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞ (ADC_value), –∞ –Ω–µ –∑–Ω–∞—á–µ–Ω–∏—è –∂–µ–ª–∞–µ–º–æ–≥–æ —É–≥–ª–∞ </p>
<p style="text-align:justify" >2. –ö–∞–∫ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ ADC –∏–∑ —É–≥–ª–∞? <br> - –û–Ω–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å –ø–æ–º–æ—â—å—é Machine learning model. –≠—Ç–æ model –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Convert "angle" to "ADC_value".</p>
<p style="text-align:justify" >3. –ü–æ—á–µ–º—É –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Machine Learning (ML) Model? <br> - –¢–∞–∫ –∫–∞–∫ –≤–æ –≤—Ä–µ–º—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ –º—ã –∑–∞–º–µ—Ç–∏–ª–∏ —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É —É–≥–ª–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º —ç–Ω–∫–æ–¥–µ—Ä–∞ (ADC_value) –ù–ï –õ–ò–ù–ï–ô–ù–û –∏–∑ –∑–∞ –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∫–æ–º–ø–ª–µ–∫—Å–∞. –ü–æ—ç—Ç–æ–º—É  ML model (Polynomial regression) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã.  <br> - –°—É—Ç—å –º–µ—Ç–æ–¥–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º —á—Ç–æ –º—ã –∏–∑–º–µ—Ä—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —É–≥–ª–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞ (–§–∞–π–ª /model/data.csv). –ò–∑ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –º—ã –º–æ–∂–µ–º –ø–æ—Å—Ç—Ä–æ–∏—Ç—å model (—Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–≥–ª–∞ –∏ ADC_value). –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –≤ —Ç–æ–º —á—Ç–æ —Ç–µ–º –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã–µ –º—ã –∏–∑–º–µ—Ä—è–µ–º, —á–µ–º —Ç–æ—á–Ω–µ–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—É—á–∏–º</p>

## –§–æ—Ä–º–∞—Ç TCP/IP –ø–∞–∫–µ—Ç–∞:

<p style="text-align:justify">–¢–∞–∫ –∫–∞–∫ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª TCP/IP socket protocol –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å Arduino socket: <br>
- ip: 192.168.113.10 <br>
- port: 23 <br>
–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∂–µ–∫—Ç–æ—Ä–æ–º –Ω–∞–º –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å socket —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≤–∏–¥–µ byte stream –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É —Ñ–æ—Ä–º–∞—Ç—É:
<table style="text-align:center">
  <tr>
    <th></th>
    <th>BYTE_STREAM[0]</th>
    <th>BYTE_STREAM[1]</th>
    <th>BYTE_STREAM[2]</th>
    <th>BYTE_STREAM[3]</th>
  </tr>
  <tr>
    <td>Value</td>
    <td>'S'</td>
    <td>ADC_value_to_send / 100</td>
    <td>ADC_value_to_send % 100</td>
    <td>'\n'</td>
  </tr>
</table>
–ù–∞–ø—Ä–∏–º–µ—Ä –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å ADC_value = 925 –Ω–∞ Arduino. –¢–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç 
<table style="text-align:center">
  <tr>
    <th></th>
    <th>BYTE_STREAM[0]</th>
    <th>BYTE_STREAM[1]</th>
    <th>BYTE_STREAM[2]</th>
    <th>BYTE_STREAM[3]</th>
  </tr>
  <tr>
    <td>Value</td>
    <td>'S'</td>
    <td>9</td>
    <td>25</td>
    <td>'\n'</td>
  </tr>
</table>

–ü—Ä–∏–º–µ—Ä –≤ python

```python
import socket
socket.socket(socket.AF_INET, socket.SOCK_STREAM)
sock.connect(('192.168.113.10', 23))
valueToSend = 925
stringToSend =  'S' + chr(int(valueToSend/100)) + chr(int(valueToSend%100)) + '\n'
sock.send(stringToSend.encode('utf-8'))
```
